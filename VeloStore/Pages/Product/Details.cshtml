@page "{id:int}"
@model VeloStore.Pages.Product.DetailsModel
@{
    ViewData["Title"] = Model.Product.Name;
}

<div class="row bg-white p-4 rounded shadow-sm">

    <!-- IMAGE -->
    <div class="col-md-5 text-center">
        <img src="@Model.Product.ImageUrl"
             class="img-fluid"
             style="max-height:420px; object-fit:contain;" />
    </div>

    <!-- INFOS -->
    <div class="col-md-7">
        <h2>@Model.Product.Name</h2>

        <h4 class="text-danger fw-bold mt-3">
            @Model.Product.Price MAD
        </h4>

        <p class="mt-3 text-muted">
            @Model.Product.Description
        </p>

        @if (Model.Product.InStock)
        {
            <span class="badge bg-success mb-3">En stock</span>
        }
        else
        {
            <span class="badge bg-danger mb-3">Rupture de stock</span>
        }

        <form method="post" asp-page-handler="AddToCart">
            <input type="hidden" name="productId" value="@Model.Product.Id" />
            <button class="btn btn-warning btn-lg mt-3"
                    @(Model.Product.InStock ? "" : "disabled")>
                Ajouter au panier
            </button>
        </form>
    </div>
</div>
